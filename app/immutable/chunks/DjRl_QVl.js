import{l as x,c as O,a as g,t as M}from"./BYQLuJm3.js";import{o as w,q as S,v as j,e as z,w as B,x as F,y as q,p as G,f as H,a as J,t as A}from"./BdP4_nWy.js";import{p as _,i as K,b as E,r as L}from"./D2dO_q_F.js";import{r as I,c as P,a as V}from"./BqJ7LPXV.js";function C(e,l,a=l){var c=j();x(e,"input",f=>{var t=f?e.defaultValue:e.value;if(t=k(e)?y(t):t,a(t),c&&t!==(t=l())){var s=e.selectionStart,i=e.selectionEnd;e.value=t??"",i!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(i,e.value.length))}}),(w&&e.defaultValue!==e.value||z(l)==null&&e.value)&&a(k(e)?y(e.value):e.value),S(()=>{var f=l();k(e)&&f===y(e.value)||e.type==="date"&&!f&&!e.value||f!==e.value&&(e.value=f??"")})}const h=new Set;function Y(e,l,a,c,f=c){var t=a.getAttribute("type")==="checkbox",s=e;let i=!1;if(l!==null)for(var v of l)s=s[v]??(s[v]=[]);s.push(a),x(a,"change",()=>{var r=a.__value;t&&(r=D(s,r,a.checked)),f(r)},()=>f(t?[]:null)),S(()=>{var r=c();if(w&&a.defaultChecked!==a.checked){i=!0;return}t?(r=r||[],a.checked=r.includes(a.__value)):a.checked=B(a.__value,r)}),F(()=>{var r=s.indexOf(a);r!==-1&&s.splice(r,1)}),h.has(s)||(h.add(s),q(()=>{s.sort((r,d)=>r.compareDocumentPosition(d)===4?-1:1),h.delete(s)})),q(()=>{if(i){var r;if(t)r=D(s,r,a.checked);else{var d=s.find(n=>n.checked);r=d==null?void 0:d.__value}f(r)}})}function D(e,l,a){for(var c=new Set,f=0;f<e.length;f+=1)e[f].checked&&c.add(e[f].__value);return a||c.delete(l),Array.from(c)}function k(e){var l=e.type;return l==="number"||l==="range"}function y(e){return e===""?null:+e}function N(e,l,a=l){x(e,"change",()=>{a(e.files)}),w&&e.files&&a(e.files),S(()=>{e.files=l()})}var Q=M("<input>"),R=M("<input>");function Z(e,l){G(l,!0);let a=_(l,"ref",15,null),c=_(l,"value",15),f=_(l,"files",15),t=_(l,"onfocus",3,()=>{}),s=L(l,["$$slots","$$events","$$legacy","ref","value","type","files","class","onfocus"]);var i=O(),v=H(i);{var r=n=>{var o=Q();I(o);let m;E(o,u=>a(u),()=>a()),A(u=>m=V(o,m,{class:u,type:"file",...s}),[()=>P("border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex h-10 w-full rounded-md border px-3 py-2 text-base file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",l.class)]),N(o,f),C(o,c),g(n,o)},d=n=>{var o=R();I(o);var m=b=>{a().select(),t()(b)};let u;E(o,b=>a(b),()=>a()),A(b=>u=V(o,u,{class:b,type:l.type,onfocus:m,...s}),[()=>P("border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex h-10 w-full rounded-md border px-3 py-2 text-base file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",l.class)]),C(o,c),g(n,o)};K(v,n=>{l.type==="file"?n(r):n(d,!1)})}g(e,i),J()}export{Z as I,C as a,Y as b};
